DROP TABLE IF EXISTS EZ_USER;
DROP TABLE IF EXISTS EZ_GROUP;
CREATE TABLE EZ_GROUP
(
    ID VARCHAR(10) NOT NULL COMMENT '그룹ID',
    NAME VARCHAR(255) NOT NULL COMMENT '그룹명',
    PRIMARY KEY(ID)
);
INSERT INTO EZ_GROUP (ID, NAME) VALUES ('ADMIN', '관리자');
INSERT INTO EZ_GROUP (ID, NAME) VALUES ('USER', '사용자');
INSERT INTO EZ_GROUP (ID, NAME) VALUES ('DEVEL', '개발자');

CREATE TABLE EZ_USER
(
    ID VARCHAR(20) NOT NULL COMMENT '사용자ID',
    PASSWD VARCHAR(100) NOT NULL COMMENT '패스워드',
    GROUP_ID VARCHAR(10) NOT NULL COMMENT '그룹ID',
    FOREIGN KEY (GROUP_ID) REFERENCES EZ_GROUP(ID),
    NAME VARCHAR(255) NOT NULL COMMENT '사용자명',
    PRIMARY KEY(id)
);
ALTER TABLE EZ_USER ADD FOREIGN KEY (GROUP_ID) REFERENCES EZ_GROUP(ID);
INSERT INTO EZ_USER (ID, PASSWD, GROUP_ID, NAME) VALUES ('admin','0','ADMIN','관리자');
INSERT INTO EZ_USER (ID, PASSWD, GROUP_ID, NAME) VALUES ('test001','0','DEVEL','개발자');
INSERT INTO EZ_USER (ID, PASSWD, GROUP_ID, NAME) VALUES ('user001', '0', 'USER', '사용자1');

DROP TABLE IF EXISTS EZ_CODE_DTL;
DROP TABLE IF EXISTS EZ_CODE_MST;
CREATE TABLE EZ_CODE_MST
(	
	COUNTRY_CODE VARCHAR(3) NOT NULL COMMENT '국가코드',
    CODE_ID CHAR(4 BYTE) NOT NULL COMMENT '코드ID', 
    CODE_NAME VARCHAR(80) NOT NULL COMMENT '코드명', 
    REMARKS VARCHAR(1000) COMMENT '비고', 
    DELETED CHAR(1) DEFAULT 'N' NOT NULL COMMENT '삭제여부', 
    UPDATE_ID VARCHAR(20) NOT NULL COMMENT '수정자ID', 
    CREATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL COMMENT '생성시각', 
    UPDATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL COMMENT '수정시각', 
    PRIMARY KEY(COUNTRY_CODE, CODE_ID)
);

CREATE TABLE EZ_CODE_DTL
(	
	COUNTRY_CODE VARCHAR(3) NOT NULL COMMENT '국가코드', 
	CODE_ID CHAR(4) NOT NULL COMMENT '코드ID', 
    CODE_VALUE VARCHAR(20) NOT NULL COMMENT '코드값', 
    CODE_TEXT VARCHAR(100) NOT NULL COMMENT '코드명(정식명칭)', 
    CODE_STEXT VARCHAR(30) COMMENT '코드명(단축명칭)', 
    CODE_ORDER INTEGER DEFAULT 0 NOT NULL COMMENT '코드순서',
    DELETED CHAR(1) DEFAULT 'N' NOT NULL COMMENT '삭제여부', 
    UPDATE_ID VARCHAR(20) NOT NULL COMMENT '수정자ID', 
    CREATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL COMMENT '생성시각', 
    UPDATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL COMMENT '수정시각', 
    FOREIGN KEY (COUNTRY_CODE, CODE_ID) REFERENCES EZ_CODE_MST(COUNTRY_CODE, CODE_ID),
    PRIMARY KEY(CODE_ID, CODE_VALUE)
); 

DROP TABLE IF EXISTS EZ_LOCALE;
CREATE TABLE EZ_LOCALE
(	
	LANG CHAR(10) NOT NULL, -- 언어코드와 국가코드는 다릅니다.
    MESG_ID VARCHAR(256) NOT NULL COMMENT '메세지ID', 
	MESG_TEXT VARCHAR(1024) NOT NULL COMMENT '메세지', 
	DELETED CHAR(1) DEFAULT 'N' NOT NULL COMMENT '삭제여부', 
    UPDATE_ID VARCHAR(20) NOT NULL COMMENT '수정자ID', 
    CREATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL COMMENT '생성시각', 
    UPDATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL COMMENT '수정시각', 
	PRIMARY KEY (LANG, MESG_ID)
);

-- ALTER TABLE EZ_PROJ_CODE DROP CONSTRAINT IF EXISTS FK_BIZ;
DROP TABLE IF EXISTS EZ_PROJ_CODE;
DROP TABLE IF EXISTS EZ_BIZ_TEAM;
CREATE TABLE EZ_BIZ_TEAM
(
    BID INTEGER NOT NULL COMMENT '비즈니스ID',
    NAME VARCHAR(255) NOT NULL COMMENT '부서명',
    PRIMARY KEY(BID)
);

CREATE TABLE EZ_PROJ_CODE
(
    BID INTEGER NOT NULL COMMENT '비즈니스ID',
    CONSTRAINT FK_BIZ_ID FOREIGN KEY (BID) REFERENCES EZ_BIZ_TEAM(BID),
    USED_DT DATETIME NOT NULL COMMENT '조회일',
    USED_CNT INTEGER DEFAULT 0 NOT NULL COMMENT '조회수',
    NAME VARCHAR(255) NOT NULL COMMENT '프로젝트명'
);
-- ALTER TABLE EZ_PROJ_CODE ADD FOREIGN KEY (BID) REFERENCES EZ_BIZ_TEAM(BID);

INSERT INTO EZ_BIZ_TEAM (BID, NAME) VALUES (0, 'IIS사업본부');
INSERT INTO EZ_BIZ_TEAM (BID, NAME) VALUES (1, '농업정보화사업본부');
INSERT INTO EZ_BIZ_TEAM (BID, NAME) VALUES (2, '시스템사업본부');
INSERT INTO EZ_BIZ_TEAM (BID, NAME) VALUES (3, '축산연구소');
INSERT INTO EZ_BIZ_TEAM (BID, NAME) VALUES (4, '스마트팜연구소');
INSERT INTO EZ_BIZ_TEAM (BID, NAME) VALUES (5, '스마트유통사업본부');
INSERT INTO EZ_BIZ_TEAM (BID, NAME) VALUES (6, '블록체인사업본부');

INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_공통');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_산림청');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_SKHy_Cloud');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_SKT DaTalent_MA');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_관세청');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_삼성닷컴');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_LG CNS');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_삼성중공업');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_SKT DaTalent_고도화');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_Subscription');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_Pre Sale');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_롯데쇼핑_CRM');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_현대 차세대 보안 고도화');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_SKT T-View 고도화');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_관세청 2차');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_SKHy_Log 통합');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_컨설팅용역');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_교통주차');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (0, SYSDATE, 0, '19_IIS_SK케미컬_로그분석');

INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_공통');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_강원연합_연구');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_안성과수_연구');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_APC유지');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_막걸리IOT_연구');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_로컬푸드');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_완주유지');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_내면농협');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_송원APC');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (1, SYSDATE, 0, '19_농업정보화_법인연합회');

INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (2, SYSDATE, 0, '19_시스템_공통');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (2, SYSDATE, 0, '19_시스템_검역유지보수');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (2, SYSDATE, 0, '19_시스템_에그릭스운영');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (2, SYSDATE, 0, '19_시스템_AT운영');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (2, SYSDATE, 0, '19_시스템_에그릭스개발');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (2, SYSDATE, 0, '19_시스템_현대백화점');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (2, SYSDATE, 0, '19_시스템_산란계');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (2, SYSDATE, 0, '19_시스템_식물검역개발');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (2, SYSDATE, 0, '19_시스템_방역본부개발');

INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_공통');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_피그플랜');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_피그플랜광고');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_입력대행');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_피그비전');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_SAAS');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_머신러닝_연구');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_예측모델_연구');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_양돈빅데이터');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_재난형동물질병');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_스마트돈사_연구');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_PRDC_연구');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_GSIP_연구');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (3, SYSDATE, 0, '19_축산_넙치영상분석');

INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (4, SYSDATE, 0, '19_스마트팜_공통');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (4, SYSDATE, 0, '19_스마트팜_노지과제_연구');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (4, SYSDATE, 0, '19_스마트팜_스마트팜교육장');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (4, SYSDATE, 0, '19_스마트팜_TAP KIT');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (4, SYSDATE, 0, '19_스마트팜_TAP KIT-P');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (4, SYSDATE, 0, '19_스마트팜_PFC');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (4, SYSDATE, 0, '19_스마트팜_PFC 과제');

INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (5, SYSDATE, 0, '19_스마트유통_공통');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (5, SYSDATE, 0, '19_스마트유통_경기도운영');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (5, SYSDATE, 0, '19_스마트유통_경기농정운영');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (5, SYSDATE, 0, '19_스마트유통_경기시군운영');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (5, SYSDATE, 0, '19_스마트유통_아산유지보수');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (5, SYSDATE, 0, '19_스마트유통_경기도개발');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (5, SYSDATE, 0, '19_스마트유통_가락24운영');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (5, SYSDATE, 0, '19_스마트유통_유통사업');

INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (6, SYSDATE, 0, '19_블록체인_공통');
INSERT INTO EZ_PROJ_CODE (BID, USED_DT, USED_CNT, NAME) VALUES (6, SYSDATE, 0, '19_블록체인_블록체인과제_연구');